@mixin grid-width($page-width) {
  width: $page-width;

  .related-grid {
    left: -$page-width;
    width: $page-width * 3;

    .grid-page {
      width: $page-width;
    }
  }
}

@mixin grid-animation($page-width) {
  @keyframes slide-left {
    100% {
      transform: translateX(-$page-width);
    }
  }

  @keyframes slide-right {
    100% {
      transform: translateX($page-width);
    }
  }
}

$grid-width-xl: 830px;
$grid-width-l: 640px;
$grid-height: 310px;

$row-height: 147px;
$column-width: minmax(174px, 195.5px);
$grid-gap: 16px;

$arrow-margin-left: -48px;
$arrow-margin-right: -48px;
$arrow-margin-top: 127px;

.arrow {
  position: absolute;
  top: $arrow-margin-top;

  &.arrow-right {
    right: $arrow-margin-right;
  }

  &.arrow-left {
    left: $arrow-margin-left;
  }
}

.related-grid {
  &.large {
    @include grid-width($grid-width-l);
    @include grid-animation($grid-width-l);
  }
  &.extra-large {
    @include grid-width($grid-width-xl);
    @include grid-animation($grid-width-xl);
  }

  height: $grid-height;
  overflow: hidden;
  position: relative;

  .grid-pages {
    display: flex;
    position: absolute;

    .grid-page {
      display: flex;
    }
  }

  &.slide-right {
    .grid-pages {
      animation: slide-right 0.3s ease forwards;
    }
  }

  &.slide-left {
    .grid-pages {
      animation: slide-left 0.3s ease forwards;
    }
  }
}

.related-grid-entries {
  display: -ms-grid;
  display: grid;

  -ms-grid-columns: $column-width $grid-gap $column-width $grid-gap $column-width $grid-gap $column-width;
  grid-template-columns: $column-width $grid-gap $column-width $grid-gap $column-width $grid-gap $column-width;

  -ms-grid-rows: $row-height $grid-gap $row-height;
  grid-template-rows: $row-height $grid-gap $row-height;
}

.row-0 {
  -ms-grid-row: 1;
  grid-row: 1;
}

.row-1 {
  -ms-grid-row: 3;
  grid-row: 3;
}

.col-0 {
  -ms-grid-column: 1;
  grid-column: 1;
}

.col-1 {
  -ms-grid-column: 3;
  grid-column: 3;
}

.col-2 {
  -ms-grid-column: 5;
  grid-column: 5;
}

.col-3 {
  -ms-grid-column: 7;
  grid-column: 7;
}
